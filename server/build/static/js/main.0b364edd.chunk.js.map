{"version":3,"sources":["store/actions/userActions.js","store/axiosWraper.js","components/Login.js","components/MiniLoader.js","components/Register.js","store/actions/playerActions.js","store/actions/questionActions.js","store/actions/timerActions.js","store/reducers/questionReducer.js","components/Loader.js","components/LeaderBoard.js","components/Profile.js","components/Rank.js","components/Timer.js","components/Question.js","components/LivesLast.js","components/PlayerStatsBar.js","App.js","store/reducers/timerReducer.js","store/reducers/playerReducer.js","store/reducers/userReducer.js","index.js"],"names":["setUser","user","type","axios","interceptors","request","use","req","accessToken","Cookies","get","headers","authorization","baseURL","response","res","data","success","remove","set","expires","refreshToken","a","err","status","originalRequest","config","post","newTokenRes","Error","originalResponse","Login","useState","register","setRegister","error","setError","nameRef","useRef","passwordRef","dispatch","useDispatch","useSelector","state","to","id","className","onClick","name","ref","placeholder","e","preventDefault","nameInput","current","value","passwordInput","password","avatarUrl","userStats","email","gamesPlayed","highScore","totalScore","console","log","MiniLoader","props","color","height","width","Register","login","setLogin","images","setImages","avatarRef","emailRef","useEffect","getAllImages","catch","htmlFor","map","image","i","chooseAvatar","src","alt","onLoadStart","imageCount","push","emailInput","avatarId","newUser","allAvatars","target","parentNode","children","length","setStrikes","strikes","setScore","score","setPlayer","player","setQuestion","nQuestion","question","setAnswer","answer","postAnswer","playerId","questionId","getState","timer","totalTime","timePassed","then","isCorrect","newScore","correctAnswer","setAnswered","initialQuestionState","text","options","timeUp","questionReducer","action","newState","answered","Loader","LeaderBoard","leaderBoard","setLeaderBoard","leaderBoardRes","rank","Profile","logout","setLogout","endGameData","setEndGameData","endGame","updatedUser","gameEnded","playerStats","passed","userName","newGame","Rank","goToNextQuestion","nextQuestion","ranks","setRank","timeOut","setTimeout","clearTimeout","clickHandler","onMouseEnter","newRanks","v","hoverHandler","Timer","store","interval","setInterval","clearInterval","style","animationDuration","Question","history","useHistory","getNextQuestion","newQuestion","next","questionOptions","String","createOptions","LivesLast","hearts","unshift","createStrikeIcon","PlayerStatsBar","xmlns","fill","viewBox","fillRule","d","App","exact","path","component","initialState","timerReducer","playerReducer","userReducer","reducers","combineReducers","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0b364edd.chunk.js","sourcesContent":["export const setUser = (user) => {\r\n    return {\r\n        type: \"SET_USER\",\r\n        user,\r\n    };\r\n};","import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\n// import { eraseCookie, Cookies.get, createCookie } from \"../utils/Cookies\";\r\n\r\naxios.interceptors.request.use((req) => {\r\n  const accessToken = Cookies.get(\"accessToken\");\r\n  if (accessToken) req.headers.authorization = \"Bearer \" + accessToken;\r\n  req.baseURL = \"/api\";\r\n  return req;\r\n});\r\n\r\naxios.interceptors.response.use(\r\n  ({ data: res }) => {\r\n    if (res.success) {\r\n      Cookies.remove(\"accessToken\");\r\n      Cookies.remove(\"refreshToken\");\r\n      return res;\r\n    }\r\n    if (res.accessToken)\r\n      Cookies.set(\"accessToken\", res.accessToken, { expires: 1 });\r\n    if (res.refreshToken)\r\n      Cookies.set(\"refreshToken\", res.refreshToken, { expires: 1 });\r\n    return res;\r\n  },\r\n  async (err) => {\r\n    if (err.response.status !== 403) return err.response.data;\r\n    if (err.response.data === \"Password incorrect\") return err.response.data;\r\n    const originalRequest = err.config;\r\n    try {\r\n      const refreshToken = Cookies.get(\"refreshToken\");\r\n      const newTokenRes = await axios.post(\"/user/token\", {\r\n        refreshToken: refreshToken ? refreshToken : \"\",\r\n      });\r\n\r\n      if (newTokenRes instanceof Error) throw newTokenRes;\r\n\r\n      const { accessToken } = newTokenRes.data.accessToken;\r\n      Cookies.set(\"accessToken\", accessToken, { expires: 1 });\r\n      const originalResponse = await axios(originalRequest);\r\n      return originalResponse;\r\n    } catch (e) {\r\n      return e.response.data;\r\n    }\r\n  }\r\n);\r\n\r\nexport default axios;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setUser } from \"../store/actions/userActions\";\r\nimport axios from \"../store/axiosWraper\";\r\n// import \"../styles/Start.css\";\r\n\r\nfunction Login() {\r\n  const [register, setRegister] = useState(false);\r\n  const [error, setError] = useState(false)\r\n  const nameRef = useRef();\r\n  const passwordRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n  if (user) return <Redirect to={`/profile/${user.id}`} />;\r\n  if (register) return <Redirect to={`/register`} />;\r\n\r\n\r\n  return (\r\n    // <div className=\"start\">\r\n    <>\r\n      <h1 id=\"landing-page-title\">Welcome To Trivia Game</h1>\r\n      <button className=\"redirect-button\" onClick={() => {\r\n        setRegister(true)\r\n      }\r\n      }>\r\n        Sign Up\r\n      </button>\r\n      <form className=\"form\">\r\n\r\n        {error ? <div id=\"error\" >{error}</div> : null}\r\n        <input type=\"text\" name=\"name\" ref={nameRef} placeholder=\"Name\" />\r\n\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          ref={passwordRef}\r\n          placeholder=\"password\"\r\n        />\r\n\r\n        <button id=\"login-button\" onClick={login}>\r\n          {\" \"}\r\n          Login{\" \"}\r\n        </button>\r\n      </form>\r\n      {/* </div> */}\r\n    </>\r\n  );\r\n  async function login(e) {\r\n    e.preventDefault();\r\n    const nameInput = nameRef.current.value;\r\n    const passwordInput = passwordRef.current.value;\r\n    if (!nameInput || !passwordInput) return;\r\n    try {\r\n\r\n      const user = await axios.post(\"user/login\", {\r\n        name: nameInput,\r\n        password: passwordInput,\r\n      });\r\n\r\n      if (user === \"Password incorrect\") {\r\n        setError(\"Password incorrect...\")\r\n        return\r\n      }\r\n      else if (user === \"cannot find user\") {\r\n        setError(\"No such user, please register first\")\r\n        return\r\n      }\r\n      const { id, name, avatarUrl } = user;\r\n      const userStats = await axios.get(\"user/user-stats\");\r\n      const { email, gamesPlayed, highScore, totalScore } = userStats;\r\n      dispatch(\r\n        setUser({\r\n          id,\r\n          name,\r\n          avatarUrl,\r\n          email,\r\n          gamesPlayed,\r\n          highScore,\r\n          totalScore,\r\n        })\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n      return\r\n    }\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import Loader from \"react-loader-spinner\";\r\nimport React from \"react\";\r\n\r\nfunction MiniLoader(props) {\r\n  return <Loader type=\"Oval\" color=\"#680c14\" height={40} width={40} />;\r\n}\r\nexport default MiniLoader;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setUser } from \"../store/actions/userActions\";\r\nimport MiniLoader from \"./MiniLoader\";\r\nimport axios from \"../store/axiosWraper\";\r\nimport \"../styles/Register.css\";\r\n\r\nfunction Register() {\r\n  const [login, setLogin] = useState(false);\r\n  const [images, setImages] = useState();\r\n  const [error, setError] = useState(false);\r\n  const avatarRef = useRef(4);\r\n  const nameRef = useRef();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    if (!images) {\r\n      getAllImages().catch(console.log);\r\n    }\r\n  }, []);\r\n  if (user) return <Redirect to={`/Profile/${nameRef.current}`} />;\r\n  if (login) return <Redirect to={`/`} />;\r\n\r\n  return (\r\n    <>\r\n      <h1 id=\"landing-page-title\">Welcome To Trivia Game</h1>\r\n      <button\r\n        className=\"redirect-button\"\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          setLogin(true);\r\n        }}\r\n      >\r\n        Login\r\n      </button>\r\n      <form>\r\n        {error ? <div id=\"error\">{error}</div> : null}\r\n        <label htmlFor=\"name\" className=\"label\">\r\n          <input type=\"email\" ref={emailRef} name=\"email\" placeholder=\"Email\" />\r\n        </label>\r\n        <label htmlFor=\"name\" className=\"label\">\r\n          <input type=\"text\" ref={nameRef} name=\"name\" placeholder=\"Name\" />\r\n        </label>\r\n        <label htmlFor=\"password\" className=\"label\">\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            ref={passwordRef}\r\n            placeholder=\"password\"\r\n          />\r\n        </label>\r\n        <div id=\"avatar-selection\">\r\n          {images?.map((image, i) => {\r\n            return (\r\n              <img\r\n                key={i}\r\n                onClick={chooseAvatar}\r\n                className=\"avatar\"\r\n                src={image}\r\n                alt=\"\"\r\n                onLoadStart={() => <MiniLoader />}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <button onClick={singIn}>Sign Up</button>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  async function getAllImages() {\r\n    const images = [];\r\n    const imageCount = await axios.get(\"/avatar/count\");\r\n    for (let i = 1; i < imageCount; i++) {\r\n      images.push(`/api/avatar/avatar${i}`);\r\n    }\r\n    setImages(images);\r\n  }\r\n\r\n  async function singIn(e) {\r\n    e.preventDefault();\r\n    const nameInput = nameRef.current.value;\r\n    const emailInput = emailRef.current.value;\r\n    const passwordInput = passwordRef.current.value;\r\n    if (!nameInput || !passwordInput || !emailInput) return;\r\n    const newUser = await axios.post(\"user/register\", {\r\n      name: nameInput,\r\n      email: emailInput,\r\n      password: passwordInput,\r\n      avatarId: avatarRef.current,\r\n    });\r\n    const { id, name, avatarUrl } = newUser;\r\n    if (newUser === \"username or email already exists\")\r\n      return setError(\"username or email already exists\");\r\n    if (newUser === \"password length must be 6 or longer\")\r\n      return setError(\"password length must be 6 or longer\");\r\n    dispatch(\r\n      setUser({\r\n        id,\r\n        name,\r\n        avatarUrl,\r\n        email: emailInput,\r\n        gamesPlayed: 0,\r\n        highScore: 0,\r\n        totalScore: 0,\r\n      })\r\n    );\r\n  }\r\n\r\n  function chooseAvatar(e) {\r\n    e.preventDefault();\r\n    const allAvatars = e.target.parentNode.children;\r\n    for (let i = 0; i < allAvatars.length; i++) {\r\n      if (allAvatars[i] === e.target) {\r\n        avatarRef.current = i + 1;\r\n        allAvatars[i].className = \"avatar chosen\";\r\n      } else {\r\n        allAvatars[i].className = \"avatar\";\r\n      }\r\n    }\r\n  }\r\n}\r\nexport default Register;\r\n","export const setStrikes = (strikes) => {\r\n  return {\r\n    type: \"SET_STRIKES\",\r\n    strikes,\r\n  };\r\n};\r\n\r\nexport const setScore = (score) => {\r\n  return {\r\n    type: \"SET_SCORE\",\r\n    score,\r\n  };\r\n};\r\n\r\nexport const setPlayer = (player) => {\r\n  return {\r\n    type: \"SET_PLAYER\",\r\n    player,\r\n  };\r\n};\r\n\r\nexport const setFinalPlayerStats = (playerStats) => {\r\n  return {\r\n    type: \"SET_FINAL_PLAYER_STATS\",\r\n    playerStats,\r\n  };\r\n};\r\n","import axios from \"../axiosWraper\";\r\nimport { setScore, setStrikes } from \"./playerActions\";\r\nimport { start, totalTimeDecrease } from \"../actions/timerActions\";\r\n\r\nexport const setQuestion = (nQuestion) => {\r\n  return {\r\n    type: \"SET_NEXT_QUESTION\",\r\n    question: nQuestion,\r\n  };\r\n};\r\n\r\nexport const setTimeUp = () => {\r\n  return {\r\n    type: \"TIME_UP\",\r\n  };\r\n};\r\n\r\nexport const loadingAnswer = () => {\r\n  return {\r\n    type: \"LOADING_ANSWER\",\r\n  };\r\n};\r\n\r\nexport const setAnswer = (answer) => {\r\n  return {\r\n    type: \"SET_ANSWER\",\r\n    answer,\r\n  };\r\n};\r\nexport const setAnswered = (answer) => {\r\n  return {\r\n    type: \"SET_ANSWERED\",\r\n    answer,\r\n  };\r\n};\r\n\r\nexport const wrongAnswer = (answer, strikes) => {\r\n  return (dispatch) => {\r\n    dispatch(setStrikes(strikes));\r\n    dispatch(setAnswer(answer));\r\n  };\r\n};\r\n\r\nexport const correctAnswer = (answer, score) => {\r\n  return (dispatch) => {\r\n    dispatch(setScore(score));\r\n    dispatch(setAnswer(answer));\r\n  };\r\n};\r\n\r\nexport const postAnswer = (playerId, questionId, answer) => {\r\n  return (dispatch, getState) => {\r\n    const { totalTime, timePassed } = getState().timer;\r\n    dispatch(loadingAnswer());\r\n    dispatch(start());\r\n    axios\r\n      .post(`/game/answer/${playerId}`, {\r\n        questionId,\r\n        answer,\r\n        totalTime,\r\n        timePassed,\r\n      })\r\n      .then((res) => {\r\n        if (res.isCorrect) {\r\n          dispatch(totalTimeDecrease());\r\n          dispatch(setScore(res.newScore));\r\n        } else {\r\n          dispatch(setStrikes(res.strikes));\r\n        }\r\n        dispatch(setAnswer(res.correctAnswer));\r\n        dispatch(setAnswered(res.answer));\r\n      })\r\n      .catch(console.log);\r\n  };\r\n};\r\n","\r\nexport const start = () => {\r\n  return {\r\n    type: \"START\",\r\n  };\r\n};\r\n\r\nexport const tick = () => {\r\n  return {\r\n    type: \"TICK\",\r\n  };\r\n};\r\n\r\nexport const totalTimeDecrease = () => {\r\n  return {\r\n    type: \"TOTAL_TIME_DECREASE\",\r\n  };\r\n};\r\n\r\n\r\n\r\n","export const initialQuestionState = {\r\n  id: null,\r\n  text: null,\r\n  options: [],\r\n  correctAnswer: null,\r\n  timeUp: false,\r\n};\r\n\r\nconst questionReducer = (state = initialQuestionState, action) => {\r\n  if (action.type === \"TICK\") return state;\r\n  let newState = { ...state };\r\n\r\n  switch (action.type) {\r\n    case \"SET_NEXT_QUESTION\":\r\n      newState.text = action.question.text;\r\n      newState.options = action.question.options;\r\n      newState.id = action.question.id;\r\n      newState.timeUp = false;\r\n      newState.correctAnswer = null;\r\n      break;\r\n\r\n    case \"TIME_UP\":\r\n      newState.timeUp = true;\r\n      break;\r\n\r\n    case \"SET_ANSWER\":\r\n      newState.correctAnswer = action.answer;\r\n      break;\r\n\r\n    case \"SET_ANSWERED\":\r\n      newState.answered = action.answer;\r\n      break;\r\n\r\n    case \"LOADING_ANSWER\":\r\n      newState.correctAnswer = \"LOADING\";\r\n      break;\r\n    default:\r\n      newState = state;\r\n      break;\r\n  }\r\n  return newState;\r\n};\r\n\r\nexport default questionReducer;\r\n","import React from \"react\";\r\nimport \"../styles/Loader.css\"\r\n\r\nfunction Loader(props) {\r\n  return <div className=\"loader\"></div>;\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Loader from \"./Loader\";\r\nimport axios from \"../store/axiosWraper\";\r\nimport \"../styles/LeaderBoard.css\";\r\n\r\nfunction LeaderBoard() {\r\n  const [leaderBoard, setLeaderBoard] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios.get(`/game/leader_board`).then((leaderBoardRes) => {\r\n      setLeaderBoard(leaderBoardRes);\r\n    });\r\n  }, []);\r\n\r\n  return leaderBoard ? (\r\n    <div className=\"scroller\">\r\n      <table id=\"leader-board\">\r\n        <thead id=\"table-headers\">\r\n          <tr>\r\n            <th id=\"img-table-header\" className=\"table-header\"></th>\r\n            <th className=\"table-header\">Rank</th>\r\n            <th className=\"table-header\">Name</th>\r\n            <th className=\"table-header\">Score</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {leaderBoard.map((player, i) => {\r\n            return (\r\n              <tr key={i} className=\"lb-player\">\r\n                <td>\r\n                  <img\r\n                    className=\"lb-player-avatar\"\r\n                    src={player.avatarUrl}\r\n                    alt=\"avatar\"\r\n                  />\r\n                </td>\r\n                <td className=\"lb-player-rank\">{player.rank}</td>\r\n                <td className=\"lb-player-name\">{player.name}</td>\r\n                <td className=\"lb-player-score\">{player.score}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n}\r\n\r\nexport default LeaderBoard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setPlayer } from \"../store/actions/playerActions\";\r\nimport { setQuestion } from \"../store/actions/questionActions\";\r\nimport { setUser } from \"../store/actions/userActions\";\r\nimport { initialQuestionState } from \"../store/reducers/questionReducer\";\r\nimport LeaderBoard from \"./LeaderBoard\";\r\nimport axios from \"../store/axiosWraper\";\r\nimport \"../styles/Profile.css\";\r\n\r\nfunction Profile() {\r\n  const dispatch = useDispatch();\r\n  const [logout, setLogout] = useState(false);\r\n  const [endGameData, setEndGameData] = useState(null);\r\n  const { user, player } = useSelector((state) => state);\r\n  useEffect(() => {\r\n    player &&\r\n      player.strikes >= 3 &&\r\n      axios\r\n        .get(`/game/end_session/${player.id}`)\r\n        .then((endGame) => {\r\n          user.highScore = endGame.updatedUser.highScore;\r\n          user.gamesPlayed = endGame.updatedUser.gamesPlayed;\r\n          user.totalScore = endGame.updatedUser.totalScore;\r\n          setEndGameData({ ...endGame });\r\n          dispatch(setQuestion(initialQuestionState));\r\n          dispatch(setUser(user));\r\n        })\r\n        .catch(console.log);\r\n  }, []);\r\n  if (logout) return <Redirect to={`/`} />;\r\n  if (!user) return <Redirect to=\"/\" />;\r\n  if (player && !player.gameEnded) return <Redirect to=\"/game\" />;\r\n  return (\r\n    <>\r\n      <button\r\n        className=\"redirect-button\"\r\n        onClick={() => {\r\n          axios.post(\"/user/logout\");\r\n          dispatch(setUser(false));\r\n          setLogout(true);\r\n        }}\r\n      >\r\n        Logout\r\n      </button>\r\n      <div id=\"profile-div\">\r\n        <div id=\"profile-details\">\r\n          <span className=\"detail\">Best Score: {user.highScore}</span>\r\n          <span className=\"detail\">Total Games: {user.gamesPlayed}</span>\r\n          <span className=\"detail\">Total Score: {user.totalScore}</span>\r\n          {lastGameStats()}\r\n        </div>\r\n        <img className=\"profile-avatar\" src={user.avatarUrl} alt=\"Avatar\" />\r\n        <h1 id=\"profile-page-title\">{user.name}</h1>\r\n      </div>\r\n      <button id=\"ButtonStart\" onClick={startButtonHandler}>\r\n        {player && player.gameEnded ? \"Go Again!\" : \"Start!\"}\r\n      </button>\r\n      <LeaderBoard />\r\n    </>\r\n  );\r\n\r\n  async function startButtonHandler(e) {\r\n    e.preventDefault();\r\n    const newGame = await axios.post(\"/game/new_session\", {\r\n      userName: user.name,\r\n    });\r\n    newGame.gameEnded = false;\r\n    dispatch(setPlayer({ ...newGame }));\r\n  }\r\n  function lastGameStats() {\r\n    if (player && !player.gameEnded) return null;\r\n    return (\r\n      endGameData && (\r\n        <>\r\n          <span className=\"detail\">\r\n            {`Correct Answers: ${endGameData.playerStats.passed}`}\r\n          </span>\r\n          <span className=\"detail\">\r\n            {`Score: ${endGameData.playerStats.score}`}\r\n          </span>\r\n        </>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from 'react';\r\nimport \"../styles/Rank.css\"\r\nimport axios from \"../store/axiosWraper\"\r\n\r\nfunction Rank({ playerId, questionId, goToNextQuestion, nextQuestion }) {\r\n    const [ranks, setRank] = useState([false, false, false, false, false])\r\n\r\n\r\n\r\n\r\n    const hoverHandler = (rank) => {\r\n        const newRanks = ranks.map((v, i) => i < rank)\r\n        setRank(newRanks)\r\n    }\r\n\r\n    const clickHandler = (rank) => {\r\n        axios.post(`/game/rank/${playerId}`, { questionId: questionId, rank }).then(() => goToNextQuestion(nextQuestion.current));\r\n    }\r\n    useEffect(() => {\r\n        const timeOut = setTimeout(() => {\r\n            goToNextQuestion(nextQuestion.current)\r\n        }, 6000);\r\n        return () => {\r\n            clearTimeout(timeOut)\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div id=\"rank\">\r\n\r\n\r\n\r\n            {ranks.map((rank, i) => {\r\n\r\n\r\n                return <div key={i} className={`star${rank ? \"-picked\" : \"\"}`} onClick={() => clickHandler(i + 1)}\r\n                    onMouseEnter={() => { hoverHandler(i + 1) }}>\r\n\r\n                    {rank ? <i className=\"fas fa-star\"></i> : <i className=\"far fa-star\"></i>}\r\n\r\n                </div>\r\n            })\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rank;","import { useDispatch, useSelector } from \"react-redux\";\r\nimport React, { useEffect } from \"react\";\r\nimport { tick } from \"../store/actions/timerActions\";\r\nimport { setTimeUp } from \"../store/actions/questionActions\";\r\n\r\nexport default function Timer({ timeUp, goToNextQuestion, nextQuestion }) {\r\n  const dispatch = useDispatch();\r\n  const timer = useSelector((store) => store.timer);\r\n  useEffect(() => {\r\n    const interval = setInterval(() => dispatch(tick()), 500);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (timer.totalTime - timer.timePassed === 0) {\r\n    dispatch(setTimeUp());\r\n    setTimeout(() => {\r\n      timeUp();\r\n      goToNextQuestion(nextQuestion.current);\r\n    }, 5000);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id=\"timer-div\" style={{ animationDuration: timer.totalTime + \"s\" }}></div>\r\n      <div id=\"timer\">\r\n        {timer.totalTime - timer.timePassed > 0\r\n          ? timer.totalTime - timer.timePassed\r\n          : \"Time Up!\"}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport Rank from \"./Rank\";\r\nimport axios from \"../store/axiosWraper\";\r\nimport \"../styles/Question.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postAnswer, setQuestion } from \"../store/actions/questionActions\";\r\nimport { setPlayer } from \"../store/actions/playerActions\";\r\nimport MiniLoader from \"./MiniLoader\";\r\nimport Timer from \"./Timer\";\r\n\r\nfunction Question(props) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { player, user, question } = useSelector((store) => store);\r\n  const nextQuestion = useRef({});\r\n\r\n  useEffect(() => {\r\n    if (!player) return <Redirect to=\"/\" />;\r\n    getNextQuestion()\r\n      .then((newQuestion) => {\r\n        nextQuestion.current = newQuestion;\r\n      })\r\n      .catch((e) =>\r\n        getNextQuestion().then((newQuestion) => {\r\n          nextQuestion.current = newQuestion;\r\n        })\r\n      )\r\n      .catch((e) => {\r\n        nextQuestion.current = {\r\n          id: \"ERROR\",\r\n          text: \"Network Error, can't load next question\",\r\n        };\r\n      });\r\n  }, [question.id]);\r\n\r\n  useEffect(() => {\r\n    if (!user) return <Redirect to={`/profile/${user.id}`} />;\r\n\r\n    axios.get(`/game/question/${player.id}`).then((res) => {\r\n      dispatch(setQuestion(res));\r\n    });\r\n  }, []);\r\n  if (player && player.gameEnded) {\r\n    return (\r\n      <div id=\"game-over\">\r\n        <h1> GAME OVER ! </h1> <br /> <h3>Try Again... </h3>\r\n      </div>\r\n    );\r\n  } else if (player && player.strikes >= 3) {\r\n    player.gameEnded = true;\r\n    dispatch(setPlayer({ ...player }));\r\n    setTimeout(() => history.push(`/profile/${player.id}`), 4000);\r\n  }\r\n  function goToNextQuestion(next) {\r\n    dispatch(setQuestion(next));\r\n  }\r\n\r\n  async function getNextQuestion() {\r\n    return axios\r\n      .get(`/game/question/${player.id}`)\r\n      .then((res) => res)\r\n      .catch(console.log);\r\n  }\r\n  return (\r\n    player && (\r\n      <>\r\n        <div id=\"question\">\r\n          <h1>{question.text}</h1>\r\n          <div id=\"options\">\r\n            {createOptions(question.correctAnswer, question.answered)}\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"footer\">\r\n          {question.timeUp ? (\r\n            <div id=\"time-up\"> TIME UP </div>\r\n          ) : question.correctAnswer ? (\r\n            <Rank\r\n              playerId={player.id}\r\n              questionId={question.id}\r\n              goToNextQuestion={goToNextQuestion}\r\n              nextQuestion={nextQuestion}\r\n            />\r\n          ) : (\r\n            <Timer\r\n              goToNextQuestion={goToNextQuestion}\r\n              nextQuestion={nextQuestion}\r\n              timeUp={() => {\r\n                dispatch(postAnswer(player.id, question.id, null));\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </>\r\n    )\r\n  );\r\n\r\n  function createOptions(correctAnswer, answered) {\r\n    const { options } = question;\r\n    const questionOptions = [];\r\n    for (let i = 0; i < options.length; i++) {\r\n      let className = \"option\";\r\n      if (String(correctAnswer) === String(options[i])) className += \" correct\";\r\n      else if (correctAnswer) className += \" incorrect\";\r\n      if (String(answered) === String(options[i]))\r\n        className += \" picked-option\";\r\n\r\n      questionOptions.push(\r\n        <div\r\n          key={i}\r\n          className={className}\r\n          onClick={() => {\r\n            if (correctAnswer) return;\r\n            if (question.timeUp) return;\r\n            dispatch(postAnswer(player.id, question.id, options[i]));\r\n          }}\r\n        >\r\n          {correctAnswer === \"LOADING\" ? (\r\n            <MiniLoader />\r\n          ) : correctAnswer === options[i] ? (\r\n            <strong>{options[i]}</strong>\r\n          ) : (\r\n            options[i]\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    return questionOptions;\r\n  }\r\n}\r\n\r\nexport default Question;\r\n","import React from 'react';\r\n// import { Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction LivesLast({ strikes }) {\r\n\r\n    function createStrikeIcon() {\r\n        const hearts = [];\r\n        for (let i = 0; i < 3; i++) {\r\n            if (i < strikes) {\r\n                hearts.unshift(<i key={i} className=\"fas fa-heart-broken\"></i>)\r\n            }\r\n            else hearts.unshift(<i key={i} className=\"fas fa-heart\"></i>)\r\n\r\n        }\r\n\r\n        // setTimeout(() => <Redirect to=\"/game-over\" />, 5000)\r\n        // return strikes < 3 ? hearts : <Redirect to=\"/game-over\" />\r\n        return hearts;\r\n    }\r\n\r\n    return <div id=\"lives\">\r\n\r\n        {createStrikeIcon()}\r\n\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport default LivesLast;","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { setPlayer } from \"../store/actions/playerActions\";\r\n\r\nimport LivesLast from \"./LivesLast\";\r\nimport \"../styles/PlayerStatsBar.css\";\r\n\r\nfunction PlayerStatsBar(props) {\r\n  const { player } = useSelector((store) => store);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  if (!player) return <Redirect to=\"/\" />;\r\n  const { name, score, strikes, avatarUrl } = player;\r\n  return (\r\n    <div id=\"playerStatsBar\">\r\n      <div id=\"game-stats\">\r\n        <img className=\"avatar\" src={avatarUrl} alt=\"AVATAR\" />\r\n        {name}\r\n      </div>\r\n\r\n      <span id=\"score\">\r\n        <LivesLast strikes={strikes} />\r\n        Score: {score}\r\n      </span>\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        onClick={resetGame}\r\n        width=\"32\"\r\n        height=\"32\"\r\n        fill=\"currentColor\"\r\n        id=\"return-arrow\"\r\n        viewBox=\"0 0 16 16\"\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n\r\n  function resetGame(e) {\r\n    player.gameEnded = true;\r\n    dispatch(setPlayer({ ...player }));\r\n    setTimeout(() => history.push(`/profile/${player.id}`), 4000);\r\n    return;\r\n  }\r\n}\r\n\r\nexport default PlayerStatsBar;\r\n","import { BrowserRouter, Route } from \"react-router-dom\";\r\nimport Login from \"./components/Login.js\";\r\nimport Register from \"./components/Register.js\";\r\nimport Profile from \"./components/Profile.js\";\r\n// import GameOver from \"./components/GameOver\";\r\nimport Question from \"./components/Question\";\r\nimport PlayerStatsBar from \"./components/PlayerStatsBar\";\r\n// import \"./App.css\";\r\nimport \"../src/styles/AppN.css\";\r\nfunction App(props) {\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"container\">\r\n        <BrowserRouter>\r\n          <Route exact path=\"/\" component={Login} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n          <Route exact path=\"/profile/:userId\" component={Profile} />\r\n          <Route exact path=\"/game\">\r\n            <PlayerStatsBar />\r\n            <Question />\r\n          </Route>\r\n          {/* <Route exact path=\"/game-over\" component={GameOver} /> */}\r\n        </BrowserRouter>\r\n      </div>\r\n\r\n      <div id=\"bg-bubbles\">\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n        <div className=\"bubble\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","\r\nconst initialState = {\r\n  totalTime: 20,\r\n  timePassed: 0,\r\n};\r\n\r\nconst timerReducer = (state = initialState, action) => {\r\n  let newState = { ...state };\r\n\r\n  switch (action.type) {\r\n    case \"TICK\":\r\n      newState.timePassed += 0.5;\r\n      break;\r\n    case \"TOTAL_TIME_DECREASE\":\r\n      newState.totalTime -= newState.totalTime > 5 ? 0.5 : 0;\r\n      break;\r\n    case \"START\":\r\n      newState.timePassed = 0;\r\n      break;\r\n    default:\r\n      newState = state;\r\n      break;\r\n  }\r\n  return newState;\r\n};\r\n\r\nexport default timerReducer;\r\n","\r\nconst playerReducer = (state = null, action) => {\r\n  if (action.type === \"TICK\") return state;\r\n  let newState = { ...state };\r\n  switch (action.type) {\r\n    case \"SET_STRIKES\":\r\n      newState.strikes++;\r\n      break;\r\n\r\n    case \"SET_SCORE\":\r\n      newState.score = action.score;\r\n      break;\r\n    case \"SET_PLAYER\":\r\n      newState = { ...action.player };\r\n      break;\r\n    case \"SET_FINAL_PLAYER_STATS\":\r\n      break;\r\n    default:\r\n      newState = state;\r\n      break;\r\n  }\r\n  return newState;\r\n};\r\n\r\nexport default playerReducer;\r\n","const user = false\r\n\r\nconst userReducer = (state = user, action) => {\r\n    if (action.type === \"SET_USER\") return action.user ? { ...action.user } : false\r\n    return state;\r\n\r\n}\r\nexport default userReducer","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport timerReducer from \"./store/reducers/timerReducer\";\r\nimport playerReducer from \"./store/reducers/playerReducer\"\r\nimport questionReducer from \"./store/reducers/questionReducer\"\r\nimport userReducer from \"./store/reducers/userReducer\"\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nconst reducers = combineReducers({\r\n  timer: timerReducer,\r\n  player: playerReducer,\r\n  question: questionReducer,\r\n  user: userReducer\r\n})\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n"],"sourceRoot":""}